
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Setting a different application root &mdash; qooxdoo v1.3 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="qooxdoo v1.3 documentation" href="../../index.html" />
    <link rel="up" title="<no title>" href="toctree.html" />
    <link rel="next" title="Transparent colors" href="transparent_colors.html" />
    <link rel="prev" title="Problems with “this” in event handlers" href="problems_with_this_in_event_handlers.html" /> 
  </head>
  <body>

		<div class="header">
			<div class="headcenter">
		    <a href="/"><img id="logo" src="http://resources.qooxdoo.org/images/logo.gif" alt="qooxdoo logo"/></a>
		
		    <h1 style="display: none;">qooxdoo</h1>
		    <h2 class="subline">the new era of web development</h2>
		  </div>
			<div class="navigation">
				<a href="http://qooxdoo.org">Home</a>
				<a href="http://qooxdoo.org/about">About</a>
				<a href="http://news.qooxdoo.org/">News</a>
				<a href="http://qooxdoo.org/demo">Demo</a>
				<a class="current" href="http://qooxdoo.org/documentation">Documentation</a>
				<a href="http://qooxdoo.org/community">Community</a>
				<a href="http://qooxdoo.org/download">Download</a>
				<a href="http://bugzilla.qooxdoo.org/">Bugs</a>
			</div>
			<div class="subheader">&nbsp;</div>
		</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="transparent_colors.html" title="Transparent colors"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="problems_with_this_in_event_handlers.html" title="Problems with “this” in event handlers"
             accesskey="P">previous</a> |</li>
				<li> &raquo; <a href="http://qooxdoo.org">Home</a> &raquo;</li>
        <li><a href="../../index.html">qooxdoo v1.3 documentation</a> &raquo;</li>
          <li><a href="../development.html" >Development</a> &raquo;</li>
          <li><a href="../snippets.html" >User Snippets</a> &raquo;</li>
          <li><a href="toctree.html" accesskey="U">&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="setting-a-different-application-root">
<span id="pages-snippets-setting-a-different-application-root-setting-a-different-application-root"></span><h1>Setting a different application root<a class="headerlink" href="#setting-a-different-application-root" title="Permalink to this headline">¶</a></h1>
<p>It is <tt class="docutils literal"><span class="pre">strongly</span> <span class="pre">recommended</span></tt> that you stick with the skeleton file structure, but sometimes you are faced with an (already defined) different setup you have to cope with. So if you have your HTML file (the one which is including your qooxdoo source file) in another location as in the skeleton structure you should read on.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">application</span> <span class="pre">root</span></tt> is defined as the relative path to the directory containing the application’s HTML based on the directory the configuration file (typically <tt class="docutils literal"><span class="pre">config.json</span></tt>) is located. Changing the <tt class="docutils literal"><span class="pre">application</span> <span class="pre">root</span></tt> is only relevant within the <tt class="docutils literal"><span class="pre">source</span></tt> version.</p>
</div>
<div class="section" id="adjusting-the-config-json">
<span id="pages-snippets-setting-a-different-application-root-adjusting-the-config-json"></span><h2>Adjusting the config.json<a class="headerlink" href="#adjusting-the-config-json" title="Permalink to this headline">¶</a></h2>
<p>The whole magic is done within the <tt class="docutils literal"><span class="pre">config.json</span></tt> file of your application.</p>
<p>To setup the needed jobs and to not interfere with already defined ones you have to include the defined jobs with an own scope. This is owed to the fact that it is not possible to define a job twice.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span>    <span class="o">:</span> <span class="s2">&quot;MyApplication config.json&quot;</span><span class="p">,</span>

  <span class="s2">&quot;include&quot;</span> <span class="o">:</span>
  <span class="p">[</span>
    <span class="c1">// include the defined jobs from the application.json file</span>
    <span class="c1">// with the scope &quot;appconf&quot;</span>
    <span class="p">{</span>
      <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;../../tool/data/config/application.json&quot;</span><span class="p">,</span>
      <span class="s2">&quot;as&quot;</span>   <span class="o">:</span> <span class="s2">&quot;appconf&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>

  <span class="c1">// define all needed macros</span>
  <span class="s2">&quot;let&quot;</span> <span class="o">:</span>
  <span class="p">{</span>
    <span class="s2">&quot;APPLICATION&quot;</span>  <span class="o">:</span> <span class="s2">&quot;myApplication&quot;</span><span class="p">,</span>
    <span class="s2">&quot;QOOXDOO_PATH&quot;</span> <span class="o">:</span> <span class="s2">&quot;PATH_TO_FRAMEWORK_FOLDER&quot;</span><span class="p">,</span>
    <span class="s2">&quot;QOOXDOO_URI&quot;</span>  <span class="o">:</span> <span class="s2">&quot;../${QOOXDOO_PATH}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CACHE&quot;</span>        <span class="o">:</span> <span class="s2">&quot;PATH_TO_CACHE&quot;</span><span class="p">,</span>
    <span class="c1">// default is Modern theme</span>
    <span class="s2">&quot;QXTHEME&quot;</span>      <span class="o">:</span> <span class="s2">&quot;qx.theme.Modern&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LOCALES&quot;</span>      <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span><span class="p">,</span> <span class="s2">&quot;es&quot;</span><span class="p">,</span> <span class="s2">&quot;fr&quot;</span><span class="p">,</span> <span class="s2">&quot;it&quot;</span><span class="p">,</span> <span class="s2">&quot;sv&quot;</span><span class="p">],</span>
    <span class="s2">&quot;ROOT&quot;</span>         <span class="o">:</span> <span class="s2">&quot;.&quot;</span>
  <span class="p">},</span>

  <span class="s2">&quot;jobs&quot;</span> <span class="o">:</span>
  <span class="p">{</span>
    <span class="s2">&quot;common&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="c1">// pull in all libraries</span>
      <span class="c1">// the framework and your application sources</span>
      <span class="s2">&quot;library&quot;</span> <span class="o">:</span>
      <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;manifest&quot;</span> <span class="o">:</span> <span class="s2">&quot;${QOOXDOO_PATH}/Manifest.json&quot;</span><span class="p">,</span>
          <span class="s2">&quot;uri&quot;</span>      <span class="o">:</span> <span class="s2">&quot;${QOOXDOO_URI}&quot;</span>
        <span class="p">},</span>

        <span class="p">{</span>
          <span class="s2">&quot;manifest&quot;</span> <span class="o">:</span> <span class="s2">&quot;${ROOT}/Manifest.json&quot;</span><span class="p">,</span>
          <span class="s2">&quot;uri&quot;</span>      <span class="o">:</span> <span class="s2">&quot;${APPLICATION_URI}&quot;</span>
        <span class="p">}</span>
      <span class="p">],</span>

      <span class="c1">// include application class as starting point for</span>
      <span class="c1">// dependency resolving.</span>
      <span class="c1">// theme class is included manually because it has no</span>
      <span class="c1">// dependency to other classes.</span>
      <span class="s2">&quot;include&quot;</span> <span class="o">:</span>
      <span class="p">[</span>
        <span class="s2">&quot;${APPLICATION}.Application&quot;</span><span class="p">,</span>
        <span class="s2">&quot;${QXTHEME}&quot;</span>
      <span class="p">],</span>

      <span class="c1">// path to your cache folder</span>
      <span class="s2">&quot;cache&quot;</span> <span class="o">:</span>
      <span class="p">{</span>
        <span class="s2">&quot;compile&quot;</span> <span class="o">:</span>  <span class="s2">&quot;${CACHE}&quot;</span>
      <span class="p">},</span>

      <span class="c1">// define needed settings</span>
      <span class="s2">&quot;settings&quot;</span> <span class="o">:</span>
      <span class="p">{</span>
        <span class="s2">&quot;qx.version&quot;</span>     <span class="o">:</span> <span class="s2">&quot;${QXVERSION}&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qx.theme&quot;</span>       <span class="o">:</span> <span class="s2">&quot;${QXTHEME}&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qx.application&quot;</span> <span class="o">:</span> <span class="s2">&quot;${APPLICATION}.Application&quot;</span>
      <span class="p">},</span>

      <span class="c1">// define a macro for use in #asset directives</span>
      <span class="s2">&quot;themes&quot;</span> <span class="o">:</span>
      <span class="p">{</span>
        <span class="s2">&quot;qx.icontheme&quot;</span> <span class="o">:</span> <span class="s2">&quot;${QXICONTHEME}&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// adjusted &quot;source&quot; job - only executes the &quot;source-script&quot; job</span>
    <span class="s2">&quot;source&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;run&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;source-script&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="c1">// adjusted job to set another application root</span>
    <span class="s2">&quot;source-script&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;common&quot;</span><span class="p">],</span>

      <span class="s2">&quot;compile-source&quot;</span> <span class="o">:</span>
      <span class="p">{</span>
        <span class="s2">&quot;file&quot;</span> <span class="o">:</span> <span class="s2">&quot;${ROOT}/source/script/${APPLICATION}.js&quot;</span><span class="p">,</span>
        <span class="s2">&quot;locales&quot;</span> <span class="o">:</span> <span class="s2">&quot;${LOCALES}&quot;</span><span class="p">,</span>

        <span class="c1">// THIS IS THE IMPORTANT KEY TO ADJUST</span>
        <span class="s2">&quot;root&quot;</span> <span class="o">:</span> <span class="s2">&quot;PATH_TO_DIRECTORY_OF_YOUR_HTML_FILE&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// these jobs are only redirections to the defined ones</span>
    <span class="s2">&quot;api&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::api&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;build&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;common&quot;</span><span class="p">,</span> <span class="s2">&quot;appconf::build&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;clean&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::clean&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;distclean&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::distclean&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;fix&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::fix&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;lint&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::lint&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;migration&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::migration&quot;</span><span class="p">]</span>

    <span class="p">},</span>

    <span class="s2">&quot;pretty&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::pretty&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;publish&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::publish&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;test&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::test&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;test-source&quot;</span> <span class="o">:</span>
    <span class="p">{</span>
      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::test-source&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;translation&quot;</span> <span class="o">:</span>
    <span class="p">{</span>

      <span class="s2">&quot;extend&quot;</span> <span class="o">:</span> <span class="p">[</span><span class="s2">&quot;appconf::translation&quot;</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To summarize the above:</p>
<ul class="simple">
<li>include the jobs from the <tt class="docutils literal"><span class="pre">application.json</span></tt> with an own scope to create own jobs</li>
<li>set up the <tt class="docutils literal"><span class="pre">common</span></tt> job with all needed data</li>
<li>adjust the <tt class="docutils literal"><span class="pre">source</span></tt> job - currently only runs the <tt class="docutils literal"><span class="pre">source-script</span></tt> job, but this way you are safe for later modifications/extensions</li>
<li>adjust the <tt class="docutils literal"><span class="pre">source-script</span></tt> job to your needs - the important key is <tt class="docutils literal"><span class="pre">app-root</span></tt> (see <a class="reference internal" href="../tool/generator_config_ref.html#pages-tool-generator-config-ref-compile-options"><em>here</em></a> for details)</li>
</ul>
<p>If you choose this approach you have additionally setup a config which allows you to simply change every default job you need to. Hopefully the default jobs will do the job as they are set up with sensible defaults.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Setting a different application root</a><ul>
<li><a class="reference internal" href="#adjusting-the-config-json">Adjusting the config.json</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="problems_with_this_in_event_handlers.html"
                                  title="previous chapter">Problems with &#8220;this&#8221; in event handlers</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="transparent_colors.html"
                                  title="next chapter">Transparent colors</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/pages/snippets/setting_a_different_application_root.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2010, qooxdoo developers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0b2.
    </div>
  </body>
</html>